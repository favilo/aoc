# Advent of Code 2021

To run all days:

```sh
cargo run --release
```

Timings generated by:

The `cargo-criterion` crate is useful to get nice benchmarks.

```sh
cargo criterion
```

Though not required, this just doesn't have as nice output, and will deprecate plots soon:

```sh
cargo bench
```

## Timings

```
day01/get_input         time:   [45.686 us 45.940 us 46.212 us]
day01/part1             time:   [1.1418 us 1.1446 us 1.1476 us]
day01/part2             time:   [2.7954 us 2.8091 us 2.8235 us]

day02/get_input         time:   [56.037 us 56.204 us 56.364 us]
day02/part1             time:   [924.83 ns 931.67 ns 939.51 ns]
day02/part2             time:   [782.38 ns 785.07 ns 787.92 ns]

day03/get_input         time:   [31.327 us 31.367 us 31.414 us]
day03/part1             time:   [1.9537 us 1.9623 us 1.9725 us]
day03/part2             time:   [12.419 us 12.470 us 12.524 us]

day04/get_input         time:   [82.035 us 82.721 us 83.506 us]
day04/part1             time:   [23.411 us 23.556 us 23.717 us]
day04/part2             time:   [115.25 us 115.92 us 116.63 us]

day05/get_input         time:   [23.174 us 23.240 us 23.318 us]
day05/part1             time:   [1.5619 ms 1.5722 ms 1.5853 ms]
day05/part2             time:   [2.6088 ms 2.6514 ms 2.6987 ms]

day06/get_input         time:   [4.4970 us 4.5724 us 4.6608 us]
day06/part1             time:   [8.4918 ns 8.7548 ns 9.1158 ns]
day06/part2             time:   [41.288 ns 42.183 ns 43.355 ns]
```

## Failed experiments

### Day 6

I tried to be more clever than the optimizer, but failed. If you use add
`--features day06_ring` you can see the awful timings I got when attempting to
use a ring buffer to update in place. It _works_, but it ended up being about 3000% slower

```
day06/get_input         time:   [4.2848 us 4.3215 us 4.3654 us]
                        change: [-3.9853% -2.3302% -0.6116%] (p = 0.01 < 0.05)
                        Change within noise threshold.
day06/part1             time:   [262.28 ns 266.21 ns 270.56 ns]
                        change: [+3033.7% +3134.4% +3236.0%] (p = 0.00 < 0.05)
                        Performance has regressed.
day06/part2             time:   [836.93 ns 852.07 ns 869.67 ns]
                        change: [+1851.4% +1892.5% +1933.2%] (p = 0.00 < 0.05)
                        Performance has regressed.

```
